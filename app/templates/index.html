<!DOCTYPE html>
<html>
<head>
    <title>Mining Digital Twin</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Digital Twin: Mining Dashboard</h1>
    <div id="chart"></div>

    <script>
        async function fetchData() {
            const response = await fetch('/api/data');
            const data = await response.json();
            const timestamps = data.map(row => row[1]);
            const oreExtracted = data.map(row => row[2]);

            Plotly.newPlot('chart', [{
                x: timestamps,
                y: oreExtracted,
                type: 'scatter'
            }]);
        }

        setInterval(fetchData, 2000); // Refresh data every 2 seconds
    </script>
</body>
</html>
